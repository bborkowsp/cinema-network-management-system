<form #contactForm="ngForm" (ngSubmit)="createGridOfSeats()">
  <mat-form-field class="example-full-width">
    <mat-label>Screening room name</mat-label>
    <input matInput [formControl]="nameControl" required type="text" maxlength="100">
  </mat-form-field>

  <table class="example-full-width">
    <tr>
      <td>
        <mat-form-field class="example-full-width">
          <mat-label>Number of rows</mat-label>
          <input [formControl]="rowsNumberControl" matInput required type="number">
        </mat-form-field>
      </td>
      <td>
        <mat-form-field class="example-full-width">
          <mat-label>Number columns</mat-label>
          <input [formControl]="columnsNumberControl" matInput required type="number">
        </mat-form-field>
    </tr>
  </table>

  <button [disabled]="contactForm.invalid" color="primary" mat-flat-button
          type="submit">
    Create a grid of seats
  </button>
</form>


<div class="grid-container-overall">
  <div *ngIf="showCurrentScreeningRoom" class="grid-container">
    <div *ngFor="let row of currentScreeningRoom; let i = index" class="grid-button">
      <div *ngFor="let cell of row; let j = index"
           [ngClass]="{
          'selected-standard': cell.seatZone === 'STANDARD',
           'selected-vip': cell.seatZone === 'VIP',
            'selected-promo': cell.seatZone === 'PROMO',
             'selected-wheelchair': cell.seatZone === 'WHEELCHAIR',
             'selected-corridor': cell.seatZone === 'CORRIDOR'
              }"
           class="cell"
      >
        <button [matMenuTriggerFor]="menu" aria-label="Example icon-button with a menu" mat-icon-button
                type="button">
          <mat-icon>{{ cell.seatZone === 'CORRIDOR' ? 'block' : 'event_seat' }}</mat-icon>
        </button>
        <mat-menu #menu="matMenu">
          <button (click)="handleStandardClicked(cell)" class="selected-standard" mat-menu-item type="button">
            <mat-icon>people</mat-icon>
            <span>Standard</span>
          </button>
          <button (click)="handleVIPClicked(cell)" class="selected-vip" mat-menu-item type="button">
            <mat-icon>star</mat-icon>
            <span>VIP</span>
          </button>
          <button (click)="handlePromoClicked(cell)" class="selected-promo" mat-menu-item type="button">
            <mat-icon>money_off</mat-icon>
            <span>Promo</span>
          </button>
          <button (click)="handleWheelchairClicked(cell)" class="selected-wheelchair" mat-menu-item type="button">
            <mat-icon>wheelchair_pickup</mat-icon>
            <span>Wheelchair</span>
          </button>
          <button (click)="handleCorridorClicked(cell)" class="selected-corridor" mat-menu-item type="button">
            <mat-icon>block</mat-icon>
            <span>Corridor</span>
          </button>
        </mat-menu>
      </div>
    </div>
  </div>
</div>


<button (click)="saveScreeningRoom()" color="primary" mat-flat-button
        type="button">
  Save screening room
</button>


<div mat-subheader>Saved screening rooms:</div>
<mat-list role="list">
  <mat-list-item *ngFor="let room of allScreeningRooms; let i = index" role="listitem">
    <button (click)="editScreeningRoom(i)" color="primary" mat-icon-button type="button">
      <mat-icon>edit</mat-icon>
    </button>
    <button (click)="deleteScreeningRoom(i)" color="warn" mat-icon-button type="button">
      <mat-icon>delete</mat-icon>
    </button>
    <span>Screening Room '{{ room.name }}' â€” No. of rows {{ room.seats.length }}
      , No. of columns {{ room.seats[0].length }} </span>
  </mat-list-item>
</mat-list>
